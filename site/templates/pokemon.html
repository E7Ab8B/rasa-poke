{% extends 'base.html' %}
{% load static %}

{% block title %}Pokemon - {{ pokemon.name.title }}{% endblock title %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/pokemon.css' %}" />
<style>
body {
  background-image: url({% static 'images/habitats/' %}{{ pokemon.types.0.type.name }}.jpg);
}
</style>
{% endblock head %}

{% block content %}
<div class="container mt-4">
  <div class="row justify-content-center align-items-center">
    <div class="col-sm-2 col-md-3 d-flex justify-content-end">
      {% if pokemon.id > 1 %}
        <a class="arrow-link arrow-link-left" href="{% url 'pokemon' pokemon.id|add:"-1" %}">
          <span class="d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
            &lt;
          </span>
        </a>
      {% endif %}
    </div>

    <div class="col-sm-8 col-md-6">
      <div class="card bg-dark m-5">
        <div class="card-body text-center">
          <h3 class="card-title">
            #{{ pokemon.id|stringformat:"03d" }} {{ pokemon.name.title }}
          </h3>
          <img
            src="{{ pokemon.sprites.other.dream_world.front_default }}"
            alt="{{ pokemon.name.title }}"
            class="pokemon-image img-fluid"
          />

          <p class="pokemon-types">
            {% for type in pokemon.types %}
              {{ type.type.name.title }}
              {% if not forloop.last %}/ {% endif %}
            {% endfor %}
          </p>

          <h4 class="mt-4">Stats</h4>
          {% for stat in pokemon.stats %}
          <div class="mb-2">
            <div class="stat-bar">
              <div class="progress">
                <div
                  class="progress-bar rounded-pill"
                  role="progressbar"
                  style="width: {{ stat.base_stat }}%"
                ></div>
              </div>
              <span class="stat-label"
                >{{ stat.stat.name.title }} - {{ stat.base_stat }}</span
              >
            </div>
          </div>
          {% endfor %}

          <h4 class="mt-4">Abilities</h4>
          <div class="list-group list-group-flush mt-4">
            {% for ability in pokemon.abilities %}
            <li class="list-group-item bg-dark">
              {{ ability.ability.name.title }}
            </li>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-1 col-md-3 d-flex justify-content-start">
      <a class="arrow-link arrow-link-right" href="{% url 'pokemon' pokemon.id|add:"1" %}">
        <span class="d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
          &gt;
        </span>
      </a>
    </div>
  </div>
</div>
{% endblock content %}
